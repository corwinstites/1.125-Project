<!DOCTYPE html>
<div class="header">
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
  <link href="style_tool.css" rel="stylesheet" />
  <link href="https://wancharle.github.io/emoji-css/emoji.css" rel="stylesheet">
  <div class="sides"><a href="index.html" class="logo1">SeaSound Home</a><i class="em em-house"></i></div>
  <div class="sides"> <a href="data.html" class="logo2">Check Out the Data!</a></div>
  <div class="sides"> <a href="creators.html" class="logo3">Meet the Creators!</a></div>
  <div class="sides"> <a href="learn.html" class="logo4">Learn About Ocean Sound!</a></div>
  <div class="info">
    <h4><p href="#category">Let's get started!</p></h4>
    <h1>USE THE TOOL</h1>
  </div> 
</div>
<section class="content">
  <center><p>To get started, use the map below to pick the location that you're interested in. 
  Remeber, our model is built from data taken around the US coast, so pick a location near the coast of the continental
  US, Hawaii, Alaska, or a US territory for best results.
  </p></center>
  <p><br><br><br><br><br></p>
  <div id="map" style="height:500px; width:800px; margin-left: auto; margin-right: auto;"></div>
  <script
      src="https://maps.googleapis.com/maps/api/js?key=&callback=initMap&v=weekly"
      defer
  ></script>
  <script src="map.js"></script>
  <p><br><br><br><br><br></p>
  <script>
    function addMonth(month)
    {
      console.log(month);
    }
  </script>
  <center><form>
    Which month are you wanting to make your prediction in?<br> <input type="text" name="month" id="month">
    <input type="submit" value="Submit" onclick="addMonth(document.getElementById('month').value,'right')">
    <br>
  </form>
  </center>
</section>

<section class="content">

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>

<script>
  async function load() {
    const model = await tf.loadLayersModel('model.json');
    return model;
  };

  function predict(model) {
    // first we get the value in the input field
    const userInput = document.getElementById('userInput').value
    const inputTensor = tf.tensor([parseInt(userInput)]);  // then convert to tensor

    // now lets make the prediction, we use .then because the model is a promise
    // (this is confusing as a Python user, but useful so check it out if interested)
    model.then(model => {
      let result = model.predict(inputTensor);
      alert(result);
    });
  };
  
  const model = load();  // load model immediately to avoid delay when user clicks 'Predict'
</script>

<input id="userInput" type="text"></input>

<button onclick="predict(model)">Predict</button>


</section>
</html>
